<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UUID Generator Tools</title>
  <style>
    :root{
      --sky: #87CEEB;
      --sky-dark: #5fb0db;
      --bg: #ffffff;
      --muted: #6b7280;
      --radius: 12px;
      --gap: 16px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: linear-gradient(180deg,var(--bg) 0%, #f7fbff 100%);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .card{
      width:100%;
      max-width:920px;
      background:linear-gradient(180deg, rgba(135,206,235,0.06), rgba(255,255,255,0.8));
      border-radius:var(--radius);
      padding:24px;
      box-shadow: 0 8px 30px rgba(2,6,23,0.08);
      border:1px solid rgba(135,206,235,0.18);
    }

    .header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:18px;
    }

    .logo{
      width:52px;height:52px;border-radius:10px;background:linear-gradient(135deg,var(--sky),var(--sky-dark));
      display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:18px;box-shadow:0 6px 18px rgba(135,206,235,0.28)
    }

    h1{font-size:20px;margin:0}
    p.lead{margin:4px 0 0;color:var(--muted);font-size:14px}

    .controls{display:flex;gap:12px;flex-wrap:wrap;margin-top:18px}

    .btn{
      appearance:none;border:0;padding:10px 14px;border-radius:10px;background:var(--sky);color:#023047;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(135,206,235,0.15);transition:transform .08s ease, box-shadow .08s ease;display:inline-flex;align-items:center;gap:8px}
    .btn:active{transform:translateY(1px)}
    .btn.secondary{background:#fff;border:1px solid rgba(15,23,42,0.06);color:#01445a}
    .btn.ghost{background:transparent;border:1px dashed rgba(2,6,23,0.06);color:var(--muted)}

    .uuid-area{margin-top:18px;display:flex;gap:12px;align-items:flex-start;flex-wrap:wrap}

    .output{
      flex:1 1 420px;min-height:72px;padding:14px;border-radius:10px;background:#ffffff;border:1px solid rgba(2,6,23,0.04);display:flex;align-items:center;justify-content:space-between;gap:12px;word-break:break-all
    }

    .uuid-text{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;font-size:14px;color:#062c33}

    .actions{display:flex;gap:8px}

    .small{font-size:13px;color:var(--muted)}

    .footer{display:flex;align-items:center;justify-content:space-between;margin-top:16px;gap:12px}

    /* responsive */
    @media (max-width:640px){
      .header{gap:10px}
      .logo{width:44px;height:44px;font-size:16px}
      .controls{flex-direction:column;align-items:stretch}
      .output{flex-basis:100%}
    }

    /* toast */
    .toast{position:fixed;right:18px;bottom:18px;background:#0f172a;color:#fff;padding:10px 14px;border-radius:10px;box-shadow:0 8px 24px rgba(2,6,23,0.2);opacity:0;transform:translateY(8px);transition:opacity .18s ease, transform .18s ease}
    .toast.show{opacity:1;transform:none}

    /* accessibility focus */
    .btn:focus{outline:3px solid rgba(135,206,235,0.35);outline-offset:2px}

  </style>
</head>
<body>
  <main class="card" role="main">
    <header class="header">
      <div class="logo">UUID</div>
      <div>
        <h1>UUID Generator</h1>
        <p class="lead">One-click generation of RFC-4122 compatible UUIDs (v4). Copy to clipboard or clear the result. Fully responsive &amp; accessible.</p>
      </div>
    </header>

    <section aria-labelledby="controls">
      <div class="controls" id="controls">
        <button class="btn" id="generateBtn" title="Generate a new UUID">Generate</button>
        <button class="btn secondary" id="copyBtn" title="Copy UUID to clipboard">Copy</button>
        <button class="btn ghost" id="clearBtn" title="Clear the displayed UUID">Clear</button>
      </div>

      <div class="uuid-area" aria-live="polite">
        <div class="output" id="output" aria-label="Generated UUID">
          <div class="uuid-text" id="uuidText">—</div>
          <div class="actions">
            <button class="btn secondary" id="copyInline" title="Copy UUID">Copy</button>
          </div>
        </div>

        <div style="min-width:180px;align-self:center;text-align:right">
          <div class="small">Format</div>
          <div class="small" style="font-weight:600;margin-top:6px;font-family:ui-monospace,monospace">UUID v4</div>
        </div>
      </div>

      <div class="footer">
        <div class="small">Tip: Use the <kbd>Generate</kbd> button or press <kbd>G</kbd>. Press <kbd>C</kbd> to copy when a UUID is shown.</div>
        <div class="small">Built for your skyblue &amp; white multi-tool site.</div>
      </div>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite">Copied to clipboard</div>

  <script>
    // DOM references
    const generateBtn = document.getElementById('generateBtn');
    const copyBtn = document.getElementById('copyBtn');
    const clearBtn = document.getElementById('clearBtn');
    const copyInline = document.getElementById('copyInline');
    const uuidText = document.getElementById('uuidText');
    const toast = document.getElementById('toast');

    // Show temporary toast
    function showToast(msg = 'Copied to clipboard', ms = 1400){
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(toast._t);
      toast._t = setTimeout(()=> toast.classList.remove('show'), ms);
    }

    // Generate UUID v4 — prefer crypto.randomUUID when available
    function generateUUID(){
      if(window.crypto && typeof crypto.randomUUID === 'function'){
        return crypto.randomUUID();
      }
      // fallback: RFC4122 version 4 compliant
      const rnds = new Uint8Array(16);
      crypto.getRandomValues(rnds);
      // Per RFC4122 set bits for version and `clock_seq_hi_and_reserved`
      rnds[6] = (rnds[6] & 0x0f) | 0x40; // version 4
      rnds[8] = (rnds[8] & 0x3f) | 0x80; // variant

      const byteToHex = [];
      for (let i=0;i<256;i++){
        byteToHex.push((i+0x100).toString(16).substr(1));
      }
      let i = 0;
      return (
        byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + '-' +
        byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + '-' +
        byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + '-' +
        byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + '-' +
        byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + byteToHex[rnds[i++]] + byteToHex[rnds[i++]]
      );
    }

    function setUUID(text){
      uuidText.textContent = text || '—';
    }

    async function copyUUID(){
      const val = uuidText.textContent;
      if(!val || val === '—'){
        showToast('No UUID to copy');
        return;
      }
      try{
        if(navigator.clipboard && navigator.clipboard.writeText){
          await navigator.clipboard.writeText(val);
        } else {
          // legacy fallback
          const ta = document.createElement('textarea');
          ta.value = val;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand('copy');
          ta.remove();
        }
        showToast('Copied to clipboard');
      }catch(e){
        console.error('copy failed', e);
        showToast('Unable to copy');
      }
    }

    // Event bindings
    generateBtn.addEventListener('click', ()=> setUUID(generateUUID()));
    copyBtn.addEventListener('click', copyUUID);
    copyInline.addEventListener('click', copyUUID);
    clearBtn.addEventListener('click', ()=> setUUID(''));

    // Keyboard shortcuts: G = generate, C = copy, K = clear (both lower & upper)
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'g' || e.key === 'G'){
        e.preventDefault(); generateBtn.click();
      } else if(e.key === 'c' || e.key === 'C'){
        if(uuidText.textContent && uuidText.textContent !== '—'){
          e.preventDefault(); copyUUID();
        }
      } else if(e.key === 'k' || e.key === 'K'){
        e.preventDefault(); clearBtn.click();
      }
    });

    // On load, make sure area is accessible
    document.addEventListener('DOMContentLoaded', ()=>{
      setUUID('');
    });

  </script>
</body>
</html>
